# AGENT RULES ü§ñ

## üèóÔ∏è ESTRUCTURA (FSD Lite)
- **OBLIGATORIO**: Toda la l√≥gica de negocio debe residir en `features/<feature_name>/`.
- **PROHIBIDO**: Crear archivos `index.ts` que solo act√∫en como re-exportadores (Barrel Files). Esto infla el contexto de la IA y causa alucinaciones. Usa importaciones directas.
- **DETERMINISMO**: Las funciones de herramientas deben usar esquemas Zod para validaci√≥n de entrada/salida.

## üõ°Ô∏è SEGURIDAD (Aegis)
- **CONFIANZA CERO**: Nunca ejecutes comandos destructivos sin validaci√≥n manual o pre-vuelo de Aegis.
- **PRIVACIDAD**: Usa `lib/security/sanitizer.ts` para limpiar PII de cualquier log o historial de chat.

## üí∞ ECONOM√çA (FinOps)
- **TOKEN MANAGEMENT**: Prioriza `gemini-1.5-flash` para tareas mec√°nicas. Usa `gemini-1.5-pro` solo para razonamiento complejo o planeaci√≥n.
- **RAG vs CACHE**: Si un contexto se usa m√°s de 2.5 veces por hora y supera los 500k tokens, prop√≥n la creaci√≥n de un Cache Context para ahorrar costos.

## üé® DISE√ëO (Vibe-Master)
- **AESTHETICS**: Sigue estrictamente Shadcn/UI y Tailwind. No inventes estilos ad-hoc.
- **VISUAL QA**: Antes de dar por terminada una UI, verifica el resultado visual contra el dise√±o esperado.
