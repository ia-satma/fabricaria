# AGENT RULES ü§ñ (Procedural Memory - Step 76)

## üõ°Ô∏è SEGURIDAD (Aegis & DLP)
- **REGLA 1 (Privacidad)**: NUNCA escribas secretos, API Keys o PII en el c√≥digo. Usa `process.env`.
- **REGLA 2 (Circuit Breaker)**: Si los tokens de "thoughts" superan el l√≠mite (3000), aborta inmediatamente.
- **REGLA 3 (Aegis)**: Prohibidos los comandos destructivos (`rm -rf`, `DROP TABLE`, etc.).

## üèóÔ∏è ESTRUCTURA (FSD Lite)
- **REGLA 4 (Localidad)**: Toda la l√≥gica de negocio en `features/`. No ensucies la ra√≠z.
- **REGLA 5 (No Barrel Files)**: Prohibidos los `index.ts` de re-exportaci√≥n. Importaciones directas.
- **REGLA 6 (Schema-First)**: Define siempre el esquema Zod `schemas/` antes de la UI o API.

## üíª C√ìDIGO & ESTILO
- **REGLA 7 (React)**: Usa componentes funcionales y Hooks. Prohibido Class Components.
- **REGLA 8 (Atomicidad)**: Si editas un archivo, genera el archivo completo. No env√≠es diffs parciales que puedan corromper el estado.
- **REGLA 9 (Consistencia)**: Sigue estrictamente Tailwind CSS y Shadcn/UI seg√∫n `AGENTS.md`.

## üß† OPERACIONES
- **REGLA 10 (Protocolo)**: Lee `AGENTS.md` (Constituci√≥n) antes de iniciar. No contradigas el @TechStack.
- **REGLA 11 (Audit)**: Genera evidencia visual (`scripts/qa/capture_artifact.ts`) despu√©s de cualquier cambio en la UI.

ESTAS REGLAS SON EL FIREWALL COGNITIVO. NO SE NEGOCIAN.

## üè¢ GOBERNANZA & OPS (Fase 12)
- **REGLA 12 (Handbrake)**: Acciones sensibles (send_email, DB write) REQUIEREN un Token de Aprobaci√≥n Humana v√≠a HITL.
- **REGLA 13 (Domain Wall)**: Prohibidas las peticiones a dominios fuera de la allowlist (Neon, Google, Stripe, GitHub).

ESTAS REGLAS SON EL FIREWALL COGNITIVO. NO SE NEGOCIAN.

## üé® CONSTITUCI√ìN VISUAL (Frontend Expert)
- **REGLA 14 (Estilo)**: USA SIEMPRE Tailwind CSS. Prohibido style={{}} o CSS plano.
- **REGLA 15 (Naming)**: USA kebab-case para nombres de archivos (ej. app-shell.tsx).
- **REGLA 16 (Componentes)**: USA Shadcn/UI para primitivas. No reinventes componentes.
- **REGLA 17 (Utilidades)**: Usa siempre la funci√≥n cn() para fusionar clases din√°micas.
- **REGLA 18 (Iconograf√≠a)**: USA lucide-react para iconos consistentes.

## üõ°Ô∏è ZONAS PROTEGIDAS (Protocolo Cero-Riesgo)
- **REGLA 19 (AI-LOCKED)**: NUNCA modifiques c√≥digo entre // @ai-locked-start y // @ai-locked-end.
- **REGLA 20 (Human-Priority)**: Si encuentras un conflicto entre una regla de la IA y c√≥digo marcado por un humano, PRIORIZA la voluntad humana y pide HITL.
